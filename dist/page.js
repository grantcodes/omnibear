(function(t){function e(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=28)})({17:function(t,e,r){"use strict";function i(){u&&(chrome.runtime.sendMessage({action:"clear-entry"}),o())}function o(){u&&(u.classList.remove(l),u=null,h=null)}function s(t){var e=(0,a.getAncestorNodeByClass)(t,"h-entry");if(!e)return!1;var r=n.default.get({node:e}),i=void 0;return r.items.length&&r.items[0].properties&&r.items[0].properties.url&&(i=r.items[0].properties.url[0]),i?{element:e,url:i}:"BODY"!==e.tagName&&s(e.parentElement)}Object.defineProperty(e,"__esModule",{value:!0}),e.clearItem=i,e.removeHighlight=o,e.focusClickedEntry=function(t){i();var e=void 0;(e="twitter.com"===document.location.hostname?function(t){var e=(0,a.getAncestorNodeByClass)(t,"tweet");if(!e)return!1;var r="https://twitter.com"+e.getAttribute("data-permalink-path");return{element:e,url:r}}(t.target):"www.facebook.com"===document.location.hostname?function(t){var e=(0,a.getAncestorNode)(t,function(t){return t.id.startsWith("hyperfeed_story_id_")});if(!e)return!1;var r=e.getElementsByClassName("timestampContent");if(r&&r[0]){for(r=r[0];"A"!=r.tagName&&"BODY"!=r.tagName;)r=r.parentElement;var i=r.href;if(i)return{element:e,url:i}}return!1}(t.target):s(t.target))&&(chrome.runtime.sendMessage({action:"select-entry",payload:{url:e.url}}),e.element.classList.add(l),u=e.element,h=e.url)},e.getCurrentItemUrl=function(){return h};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(30)),a=r(29),l="__omnibear-selected-item",u=void 0,h=void 0},28:function(t,e,r){"use strict";var i=r(17);(function(){function t(){chrome.runtime.sendMessage({action:"focus-window",payload:{selectedEntry:(0,i.getCurrentItemUrl)()}})}document.body.addEventListener("click",i.clearItem),document.body.addEventListener("contextmenu",i.focusClickedEntry),chrome.runtime.onMessage.addListener(function(t,e,r){switch(t.action){case"fetch-token-error":(function(t){if(function(){var t=document.location;return"omnibear.com"===t.hostname&&"/auth/success/"===t.pathname}){var e=document.getElementById("status-heading"),r=document.getElementById("status-paragraph");e||(e=document.querySelector(".main > h1")),r||(r=document.querySelector(".main > p")),e.textContent="Error fetching token from token endpoint",r.textContent=t}})(t.payload.error)}}),document.hidden||t(),window.addEventListener("focus",t)})()},29:function(t,e,r){"use strict";function i(t,e){for(;!e(t)&&"BODY"!=t.tagName;)t=t.parentElement;return e(t)?t:null}Object.defineProperty(e,"__esModule",{value:!0}),e.getAncestorNodeByClass=function(t,e){return Array.isArray(e)||(e=[e]),i(t,function(t){var r=!0,i=!1,o=void 0;try{for(var s,n=e[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var a=s.value;if(t.classList.contains(a))return!0}}catch(t){i=!0,o=t}finally{try{!r&&n.return&&n.return()}finally{if(i)throw o}}return!1})},e.getAncestorNode=i},30:function(t,e,r){var i,o,s;(function(r,n){o=[],void 0!==(s="function"==typeof(i=n)?i.apply(e,o):i)&&(t.exports=s)})(0,function(){function t(t,e){e&&e.maps&&(Array.isArray(e.maps)?t.add(e.maps):t.add([e.maps]))}var e={};e.version="2.0.2",e.livingStandard="2016-05-25T09:22:18Z",e.Parser=function(){this.rootPrefix="h-",this.propertyPrefixes=["p-","dt-","u-","e-"],this.excludeTags=["br","hr"]},e.maps=e.maps?e.maps:{},e.rels=e.rels?e.rels:{},e.Parser.prototype={init:function(){this.rootNode=null,this.document=null,this.options={baseUrl:"",filters:[],textFormat:"whitespacetrimmed",dateFormat:"auto",overlappingVersions:!1,impliedPropertiesByVersion:!0,parseLatLonGeo:!1,lang:!1},this.rootID=0,this.errors=[],this.noContentErr="No options.node or options.html was provided and no document object could be found."},get:function(t){var r,i=this.formatEmpty(),o=[];if(this.init(),t=t||{},this.mergeOptions(t),this.getDOMContext(t),this.rootNode&&this.document){if(this.hasMicroformats(this.rootNode,t)){if(this.prepareDOM(t),this.options.filters.length>0){var s=this.findFilterNodes(this.rootNode,this.options.filters);o=this.walkRoot(s)}else o=this.walkRoot(this.rootNode);i.items=o,!1===e.domUtils.canCloneDocument(this.document)&&this.clearUpDom(this.rootNode)}this.findRels&&(r=this.findRels(this.rootNode),i.rels=r.rels,i["rel-urls"]=r["rel-urls"])}else this.errors.push(this.noContentErr);return this.errors.length>0?this.formatError():i},getParent:function(t,e){return this.init(),e=e||{},t?this.getParentTreeWalk(t,e):(this.errors.push(this.noContentErr),this.formatError())},count:function(t){var r,i,o,s,n={};if(this.init(),t=t||{},this.getDOMContext(t),this.rootNode&&this.document){for(s=(r=this.findRootNodes(this.rootNode,!0)).length;s--;)for(o=(i=e.domUtils.getAttributeList(r[s],"class")).length;o--;){e.utils.startWith(i[o],"h-")&&this.appendCount(i[o],1,n);for(var a in e.maps)e.maps[a].root===i[o]&&-1===i.indexOf(a)&&this.appendCount(a,1,n)}var l=this.countRels(this.rootNode);return l>0&&(n.rels=l),n}return{errors:[this.noContentErr]}},isMicroformat:function(t,r){var i,o;if(!t)return!1;if(t=e.domUtils.getTopMostNode(t),i=this.getUfClassNames(t),r&&r.filters&&e.utils.isArray(r.filters)){for(o=r.filters.length;o--;)if(i.root.indexOf(r.filters[o])>-1)return!0;return!1}return i.root.length>0},hasMicroformats:function(t,r){var i,o;if(!t)return!1;if(t=e.domUtils.getTopMostNode(t),i=this.findRootNodes(t,!0),r&&r.filters&&e.utils.isArray(r.filters)){for(o=i.length;o--;)if(this.isMicroformat(i[o],r))return!0;return!1}return i.length>0},add:function(t){t.forEach(function(t){t&&t.root&&t.name&&t.properties&&(e.maps[t.name]=JSON.parse(JSON.stringify(t)))})},getParentTreeWalk:function(t,e,r){return e=e||{},void 0===r?t.parentNode&&"HTML"!==t.nodeName?this.getParentTreeWalk(t.parentNode,e,!0):this.formatEmpty():null!==t&&void 0!==t&&t.parentNode?this.isMicroformat(t,e)?(e.node=t,this.get(e)):this.getParentTreeWalk(t.parentNode,e,!0):this.formatEmpty()},getDOMContext:function(t){var r=e.domUtils.getDOMContext(t);this.rootNode=r.rootNode,this.document=r.document},prepareDOM:function(t){var r,i;try{!t.baseUrl&&this.document&&this.document.location&&(this.options.baseUrl=this.document.location.href)}catch(t){}(r=e.domUtils.querySelector(this.document,"base"))&&(i=e.domUtils.getAttribute(r,"href"))&&(this.options.baseUrl=i);var o,s,n;return o=e.domUtils.getNodePath(this.rootNode),s=e.domUtils.cloneDocument(this.document),n=e.domUtils.getNodeByPath(s,o),s&&n&&(this.document=s,this.rootNode=n),this.addIncludes&&this.addIncludes(this.document),this.rootNode&&this.document},formatError:function(){var t=this.formatEmpty();return t.errors=this.errors,t},formatEmpty:function(){return{items:[],rels:{},"rel-urls":{}}},findFilterNodes:function(t,r){e.utils.isString(r)&&(r=[r]);var i=e.domUtils.createNode("div"),o=this.findRootNodes(t,!0),s=0,n=0,a=0;for(a=r.length;a--;)if(this.getMapping(r[a])){var l=this.getMapping(r[a]).root;r.push(l)}if(o)for(s=o.length;n<s;){for(a=r.length;a--;)if(e.domUtils.hasAttributeValue(o[n],"class",r[a])){var u=e.domUtils.clone(o[n]);e.domUtils.appendChild(i,u);break}n++}return i},appendCount:function(t,e,r){r[t]?r[t]=r[t]+e:r[t]=e},shouldInclude:function(t,r){var i;if(e.utils.isArray(r)&&r.length>0){for(i=r.length;i--;)if(t.type[0]===r[i])return!0;return!1}return!0},findRootNodes:function(t,r){var i,o,s,n,a,l=null,u=[],h=[];for(a in e.maps)e.maps.hasOwnProperty(a)&&h.push(e.maps[a].root);for(o=0,s=(l=(r=r||!1)&&t.parentNode?e.domUtils.getNodesByAttribute(t.parentNode,"class"):e.domUtils.getNodesByAttribute(t,"class")).length;o<s;){for(n=(i=e.domUtils.getAttributeList(l[o],"class")).length;n--;){if(h.indexOf(i[n])>-1){u.push(l[o]);break}if(e.utils.startWith(i[n],"h-")){u.push(l[o]);break}}o++}return u},walkRoot:function(t){var r,i,o=this,s=[],n=[],a=[];if((i=this.getUfClassNames(t))&&i.root.length>0)(n=this.walkTree(t)).length>0&&(a=a.concat(n));else if((s=e.domUtils.getChildren(t))&&s.length>0&&this.findRootNodes(t,!0).length>-1)for(var l=0;l<s.length;l++)r=s[l],(n=o.walkRoot(r)).length>0&&(a=a.concat(n));return a},walkTree:function(t){var r,i,o,s=[];if((r=this.getUfClassNames(t))&&r.root.length&&r.root.length>0){if(this.rootID++,o=this.rootID,i=this.createUfObject(r.root,r.typeVersion),this.walkChildren(t,i,r.root,o,r),this.impliedRules&&this.impliedRules(t,i,r),!0===this.options.lang){var n=e.domUtils.getFirstAncestorAttribute(t,"lang");n&&(i.lang=n)}s.push(this.cleanUfObject(i))}return s},walkChildren:function(t,r,i,o,s){var n,a,l,u,h,d,p,m,c,f,g=this,v=[];for(m=0,c=(v=e.domUtils.getChildren(t)).length;m<c;){f=v[m];var y=g.getUfClassNames(f,i);if(y.root.length>0&&y.properties.length>0&&!f.addedAsRoot){for(n=g.createUfObject(y.root,y.typeVersion,e.text.parse(this.document,f,g.options.textFormat)),u=g.removePropPrefix(y.properties[0][0]),s&&1===s.root.length&&1===s.properties.length&&g.impliedValueRule&&(r=g.impliedValueRule(r,s.properties[0][0],y.properties[0][0],l)),r.properties[u]?r.properties[u].push(n):r.properties[u]=[n],g.rootID++,f.addedAsRoot=!0,p=0,d=n.type.length,a=g.rootID;p<d;)g.walkChildren(f,n,n.type,a,y),p++;this.impliedRules&&g.impliedRules(f,n,y),this.cleanUfObject(n)}if(0===y.root.length&&y.properties.length>0){for(p=0,d=y.properties.length;p<d;)l=g.getValue(f,y.properties[p][0],r),u=g.removePropPrefix(y.properties[p][0]),h=y.properties[p][1],s&&1===s.root.length&&1===s.properties.length&&g.impliedValueRule&&(r=g.impliedValueRule(r,s.properties[0][0],y.properties[p][0],l)),g.hasRootID(f,o,u)||g.isAllowedPropertyVersion(r.typeVersion,h)&&(r.properties[u]?r.properties[u].push(l):r.properties[u]=[l],g.appendRootID(f,o,u)),p++;g.walkChildren(f,r,i,o,y)}if(0===y.root.length&&0===y.properties.length&&g.walkChildren(f,r,i,o,y),y.root.length>0&&0===y.properties.length){for(n=g.createUfObject(y.root,y.typeVersion,e.text.parse(this.document,f,g.options.textFormat)),r.children||(r.children=[]),g.hasRootID(f,o,"child-root")||(r.children.push(n),g.appendRootID(f,o,"child-root"),g.rootID++),p=0,d=n.type.length,a=g.rootID;p<d;)g.walkChildren(f,n,n.type,a,y),p++;this.impliedRules&&g.impliedRules(f,n,y),g.cleanUfObject(n)}m++}},getValue:function(t,r,i){var o="";return e.utils.startWith(r,"p-")&&(o=this.getPValue(t,!0)),e.utils.startWith(r,"e-")&&(o=this.getEValue(t)),e.utils.startWith(r,"u-")&&(o=this.getUValue(t,!0)),e.utils.startWith(r,"dt-")&&(o=this.getDTValue(t,r,i,!0)),o},getPValue:function(t,r){var i="";return r&&(i=this.getValueClass(t,"p")),!i&&r&&(i=this.getValueTitle(t)),i||(i=e.domUtils.getAttrValFromTagList(t,["abbr"],"title")),i||(i=e.domUtils.getAttrValFromTagList(t,["data","input"],"value")),"br"!==t.name&&"hr"!==t.name||(i=""),i||(i=e.domUtils.getAttrValFromTagList(t,["img","area"],"alt")),i||(i=e.text.parse(this.document,t,this.options.textFormat)),i||""},getEValue:function(t){var r={value:"",html:""};if(this.expandURLs(t,"src",this.options.baseUrl),this.expandURLs(t,"href",this.options.baseUrl),r.value=e.text.parse(this.document,t,this.options.textFormat),r.html=e.html.parse(t),!0===this.options.lang){var i=e.domUtils.getFirstAncestorAttribute(t,"lang");i&&(r.lang=i)}return r},getUValue:function(t,r){var i="";return r&&(i=this.getValueClass(t,"u")),!i&&r&&(i=this.getValueTitle(t)),i||(i=e.domUtils.getAttrValFromTagList(t,["a","area"],"href")),i||(i=e.domUtils.getAttrValFromTagList(t,["img","audio","video","source"],"src")),i||(i=e.domUtils.getAttrValFromTagList(t,["video"],"poster")),i||(i=e.domUtils.getAttrValFromTagList(t,["object"],"data")),i&&""!==i&&-1===i.indexOf("://")&&(i=e.url.resolve(i,this.options.baseUrl)),i||(i=e.domUtils.getAttrValFromTagList(t,["abbr"],"title")),i||(i=e.domUtils.getAttrValFromTagList(t,["data","input"],"value")),i||(i=e.text.parse(this.document,t,this.options.textFormat)),i||""},getDTValue:function(t,r,i,o){var s="",n=!1;if(o&&(s=this.getValueClass(t,"dt"))&&(n=!0),!s&&o&&(s=this.getValueTitle(t)),s||(s=e.domUtils.getAttrValFromTagList(t,["time","ins","del"],"datetime")),s||(s=e.domUtils.getAttrValFromTagList(t,["abbr"],"title")),s||(s=e.domUtils.getAttrValFromTagList(t,["data","input"],"value")),s||(s=e.text.parse(this.document,t,this.options.textFormat)),s){var a=n?"microformat2":this.options.dateFormat;return e.dates.isDuration(s)?s:e.dates.isTime(s)?(i&&i.times.push([r,e.dates.parseAmPmTime(s,a)]),e.dates.parseAmPmTime(s,a)):(i&&i.dates.push([r,new e.ISODate(s).toString(a)]),new e.ISODate(s).toString(a))}return""},appendRootID:function(t,r,i){if(!1===this.hasRootID(t,r,i)){var o=[];e.domUtils.hasAttribute(t,"rootids")&&(o=e.domUtils.getAttributeList(t,"rootids")),o.push("id"+r+"-"+i),e.domUtils.setAttribute(t,"rootids",o.join(" "))}},hasRootID:function(t,r,i){return!!e.domUtils.hasAttribute(t,"rootids")&&e.domUtils.getAttributeList(t,"rootids").indexOf("id"+r+"-"+i)>-1},getValueClass:function(t,r){var i,o,s,n=this,a=[],l=[];for(o=0,s=(a=e.domUtils.getChildren(t)).length;o<s;){i=a[o];var u=null;if(e.domUtils.hasAttributeValue(i,"class","value")){switch(r){case"p":u=n.getPValue(i,!1);break;case"u":u=n.getUValue(i,!1);break;case"dt":u=n.getDTValue(i,"",null,!1)}u&&l.push(e.utils.trim(u))}o++}if(!(l.length>0))return null;if("p"===r)return e.text.parseText(this.document,l.join(""),this.options.textFormat);if("u"===r)return l.join("");if("dt"===r){return e.dates.concatFragments(l,"microformat2").toString("microformat2")}},getValueTitle:function(t){var r,i,o,s=[];for(o=0,i=(r=e.domUtils.getNodesByAttributeValue(t,"class","value-title")).length;o<i;)e.domUtils.hasAttribute(r[o],"title")&&s.push(e.domUtils.getAttribute(r[o],"title")),o++;return s.join("")},hasHClass:function(t){var e=this.getUfClassNames(t);return!!(e.root&&e.root.length>0)},getUfClassNames:function(t,r){var i,o,s,n,a,l,u,h,d,p,m,c,f,g,v=this,y={root:[],properties:[]};if(!1===e.domUtils.hasTagName(t,this.excludeTags)&&(i=e.domUtils.getAttribute(t,"class")))for(l=0,a=(s=i.split(" ")).length;l<a;){for(n=e.utils.trim(s[l]),e.utils.startWith(n,v.rootPrefix)&&e.utils.isLowerCase(n)&&(-1===y.root.indexOf(n)&&y.root.push(n),y.typeVersion="v2"),u=v.propertyPrefixes.length;u--;)e.utils.startWith(n,v.propertyPrefixes[u])&&e.utils.isLowerCase(n)&&y.properties.push([n,"v2"]);for(o in e.maps)e.maps.hasOwnProperty(o)&&e.maps[o].root===n&&-1===y.root.indexOf(o)&&(e.maps[o].subTree?y.properties.push(["p-"+e.maps[o].root,"v1"]):(y.root.push(o),y.typeVersion||(y.typeVersion="v1")));if(r)for(var b=0;b<r.length;b++)if(g=r[b],d=v.getMapping(g))for(o in d.properties)if(d.properties.hasOwnProperty(o)&&(p=d.properties[o],m=p.map?p.map:"p-"+o,o===n))if(p.uf){for(h=0;h<a;)c=v.getV2RootName(s[h]),p.uf.indexOf(c)>-1&&-1===y.root.indexOf(c)&&(y.root.push(c),y.typeVersion="v1"),h++;-1===y.properties.indexOf(m)&&y.properties.push([m,"v1"])}else-1===y.properties.indexOf(m)&&y.properties.push([m,"v1"]);l++}if(r&&this.findRelImpied)for(var x=0;x<r.length;x++)g=r[x],(f=this.findRelImpied(t,g))&&-1===y.properties.indexOf(f)&&y.properties.push([f,"v1"]);return y},getMapping:function(t){var r;for(r in e.maps)if(e.maps[r].root===t||r===t)return e.maps[r];return null},getV2RootName:function(t){var r;for(r in e.maps)if(e.maps[r].root===t)return r;return null},isAllowedPropertyVersion:function(t,e){return!0===this.options.overlappingVersions||t===e},createUfObject:function(t,r,i){var o={};return i&&!1===e.utils.isOnlyWhiteSpace(i)&&(o.value=i),e.utils.isArray(t)?o.type=t:o.type=[t],o.properties={},o.typeVersion=r,o.times=[],o.dates=[],o.altValue=null,o},cleanUfObject:function(t){return delete t.times,delete t.dates,delete t.typeVersion,delete t.altValue,t},removePropPrefix:function(t){var r;for(r=this.propertyPrefixes.length;r--;){var i=this.propertyPrefixes[r];e.utils.startWith(t,i)&&e.utils.isLowerCase(t)&&(t=t.substr(i.length))}return t},expandURLs:function(t,r,i){var o,s,n;for(o=(s=e.domUtils.getNodesByAttribute(t,r)).length;o--;)try{(n=e.domUtils.getAttribute(s[o],r))&&""!==n&&""!==i&&-1===n.indexOf("://")&&(n=e.url.resolve(n,i),e.domUtils.setAttribute(s[o],r,n))}catch(t){}},mergeOptions:function(t){var e;for(e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e])},removeRootIds:function(t){var r,i;for(i=(r=e.domUtils.getNodesByAttribute(t,"rootids")).length;i--;)e.domUtils.removeAttribute(r[i],"rootids")},clearUpDom:function(t){this.removeIncludes&&this.removeIncludes(t),this.removeRootIds(t)}},e.Parser.prototype.constructor=e.Parser,e.Parser&&(e.Parser.prototype.impliedRules=function(t,e,r){var i=e.typeVersion?e.typeVersion:"v2";return!1===this.options.impliedPropertiesByVersion&&(i="v2"),t&&e&&e.properties&&(e=this.impliedBackwardComp(t,e,r),"v2"===i&&(e=this.impliedhFeedTitle(e),e=this.impliedName(t,e),e=this.impliedPhoto(t,e),e=this.impliedUrl(t,e)),e=this.impliedValue(t,e,r),e=this.impliedDate(e),!0===this.options.parseLatLonGeo&&(e=this.impliedGeo(e))),e},e.Parser.prototype.impliedName=function(t,r){var i,o;if(!r.properties.name){o=this.getImpliedProperty(t,["img","area","abbr"],this.getNameAttr);var s=this.options.textFormat;(i=o?[e.text.parseText(this.document,o,s)]:[e.text.parse(this.document,t,s)])&&""!==i[0]&&(r.properties.name=i)}return r},e.Parser.prototype.impliedPhoto=function(t,r){var i;return r.properties.photo||(i=this.getImpliedProperty(t,["img","object"],this.getPhotoAttr))&&(i&&""!==i&&""!==this.options.baseUrl&&-1===i.indexOf("://")&&(i=e.url.resolve(i,this.options.baseUrl)),r.properties.photo=[e.utils.trim(i)]),r},e.Parser.prototype.impliedUrl=function(t,r){var i;return r.properties.url||(i=this.getImpliedProperty(t,["a","area"],this.getURLAttr))&&(i&&""!==i&&""!==this.options.baseUrl&&-1===i.indexOf("://")&&(i=e.url.resolve(i,this.options.baseUrl)),r.properties.url=[e.utils.trim(i)]),r},e.Parser.prototype.impliedDate=function(t){var r;if(t.times.length>0&&t.dates.length>0){r=e.dates.dateTimeUnion(t.dates[0][1],t.times[0][1],"microformat2");var i=this.removePropPrefix(t.times[0][0]);i.length&&Array.isArray(t.properties[i])&&(t.properties[i][0]=r.toString("microformat2"))}return delete t.times,delete t.dates,t},e.Parser.prototype.getImpliedProperty=function(t,r,i){var o,s,n=i(t);return n||((o=e.domUtils.getSingleDescendantOfType(t,r))&&!1===this.hasHClass(o)&&(n=i(o)),t.children.length>0&&(s=e.domUtils.getSingleDescendant(t))&&!1===this.hasHClass(s)&&(o=e.domUtils.getSingleDescendantOfType(s,r))&&!1===this.hasHClass(o)&&(n=i(o))),n},e.Parser.prototype.getNameAttr=function(t){var r=e.domUtils.getAttrValFromTagList(t,["img","area"],"alt");return r||(r=e.domUtils.getAttrValFromTagList(t,["abbr"],"title")),r},e.Parser.prototype.getPhotoAttr=function(t){var r=e.domUtils.getAttrValFromTagList(t,["img"],"src");return r||!1!==e.domUtils.hasAttributeValue(t,"class","include")||(r=e.domUtils.getAttrValFromTagList(t,["object"],"data")),r},e.Parser.prototype.getURLAttr=function(t){var r=null;return!1===e.domUtils.hasAttributeValue(t,"class","include")&&((r=e.domUtils.getAttrValFromTagList(t,["a"],"href"))||(r=e.domUtils.getAttrValFromTagList(t,["area"],"href"))),r},e.Parser.prototype.impliedValue=function(t,e,r){return e.properties.name&&e.value&&r.root.length>0&&1===r.properties.length&&(e=this.getAltValue(e,r.properties[0][0],"p-name",e.properties.name[0])),e.properties.url&&r&&1===r.root.length&&1===r.properties.length&&(e=this.getAltValue(e,r.properties[0][0],"u-url",e.properties.url[0])),null!==e.altValue&&(e.value=e.altValue.value),delete e.altValue,e},e.Parser.prototype.getAltValue=function(t,r,i,o){return t.value&&!t.altValue&&(e.utils.startWith(r,"p-")&&"p-name"===i&&(t.altValue={name:i,value:o}),e.utils.startWith(r,"e-")&&e.utils.startWith(i,"e-")&&(t.altValue={name:i,value:o}),e.utils.startWith(r,"u-")&&"u-url"===i&&(t.altValue={name:i,value:o})),t},e.Parser.prototype.impliedhFeedTitle=function(t){if(t.type&&t.type.indexOf("h-feed")>-1&&(void 0===t.properties.name||""===t.properties.name[0])){var r=e.domUtils.querySelector(this.document,"title");r&&(t.properties.name=[e.domUtils.textContent(r)])}return t},e.Parser.prototype.impliedGeo=function(t){var r,i,o,s,n=!0;return t.type&&t.type.indexOf("h-geo")>-1&&(void 0!==t.properties.latitude&&void 0!==t.properties.longitude||(r=!(r=t.properties.name?t.properties.name[0]:null)&&t.properties.value?t.properties.value:r)&&(r=r.replace(";",",")).indexOf(",")>-1&&(i=r.split(",")).length>1&&(s=parseFloat(i[0]),(e.utils.isNumber(s)&&s>90||s<-90)&&(n=!1),o=parseFloat(i[1]),(e.utils.isNumber(o)&&o>180||o<-180)&&(n=!1),n&&(t.properties.latitude=[s],t.properties.longitude=[o]))),t},e.Parser.prototype.impliedBackwardComp=function(t,r,i){return 1===i.root.length&&1===i.properties.length&&i.root[0].replace("h-","")===this.removePropPrefix(i.properties[0][0])&&!1===e.utils.hasProperties(r.properties)&&(r=this.impliedName(t,r)),r}),e.Parser&&(e.Parser.prototype.addIncludes=function(t){this.addAttributeIncludes(t,"itemref"),this.addAttributeIncludes(t,"headers"),this.addClassIncludes(t)},e.Parser.prototype.addAttributeIncludes=function(t,r){var i,o,s,n,a,l;for(n=0,s=(i=e.domUtils.getNodesByAttribute(t,r)).length;n<s;){if(o=e.domUtils.getAttributeList(i[n],r))for(a=0,l=o.length;a<l;)this.apppendInclude(i[n],o[a]),a++;n++}},e.Parser.prototype.addClassIncludes=function(t){var r,i,o,s=0;for(o=(i=e.domUtils.getNodesByAttributeValue(t,"class","include")).length;s<o;)(r=e.domUtils.getAttrValFromTagList(i[s],["a"],"href"))||(r=e.domUtils.getAttrValFromTagList(i[s],["object"],"data")),this.apppendInclude(i[s],r),s++},e.Parser.prototype.apppendInclude=function(t,r){var i,o;r&&(r=e.utils.trim(r.replace("#","")),(i=e.domUtils.getElementById(this.document,r))&&(o=e.domUtils.clone(i),this.markIncludeChildren(o),e.domUtils.appendChild(t,o)))},e.Parser.prototype.markIncludeChildren=function(t){var r,i,o;for(i=0,o=(r=this.findRootNodes(t)).length,e.domUtils.setAttribute(t,"data-include","true"),e.domUtils.setAttribute(t,"style","display:none");i<o;)e.domUtils.setAttribute(r[i],"data-include","true"),i++},e.Parser.prototype.removeIncludes=function(t){var r,i;for(i=(r=e.domUtils.getNodesByAttribute(t,"data-include")).length;i--;)e.domUtils.removeChild(t,r[i])}),e.Parser&&(e.Parser.prototype.findRels=function(t){var r,i,o,s,n,a,l,u,h,d={items:[],rels:{},"rel-urls":{}};for(r=0,i=(h=e.domUtils.getNodesByAttribute(t,"rel")).length;r<i;){if(n=e.domUtils.getAttribute(h[r],"rel")){for(s=0,o=(a=n.split(" ")).length;s<o;){if(l=e.utils.trim(a[s]),(u=e.domUtils.getAttrValFromTagList(h[r],["a","area"],"href"))||(u=e.domUtils.getAttrValFromTagList(h[r],["link"],"href")),d.rels[l]||(d.rels[l]=[]),"string"==typeof this.options.baseUrl&&"string"==typeof u){var p=e.url.resolve(u,this.options.baseUrl);-1===d.rels[l].indexOf(p)&&d.rels[l].push(p)}s++}var m=null;e.domUtils.hasAttribute(h[r],"href")&&(m=e.domUtils.getAttribute(h[r],"href"))&&(m=e.url.resolve(m,this.options.baseUrl));var c=this.getRelProperties(h[r]);c.rels=a,m&&void 0===d["rel-urls"][m]&&(d["rel-urls"][m]=c)}r++}return d},e.Parser.prototype.getRelProperties=function(t){var r={};return e.domUtils.hasAttribute(t,"media")&&(r.media=e.domUtils.getAttribute(t,"media")),e.domUtils.hasAttribute(t,"type")&&(r.type=e.domUtils.getAttribute(t,"type")),e.domUtils.hasAttribute(t,"hreflang")&&(r.hreflang=e.domUtils.getAttribute(t,"hreflang")),e.domUtils.hasAttribute(t,"title")&&(r.title=e.domUtils.getAttribute(t,"title")),""!==e.utils.trim(this.getPValue(t,!1))&&(r.text=this.getPValue(t,!1)),r},e.Parser.prototype.findRelImpied=function(t,r){var i,o,s;if(o=this.getMapping(r))for(var n in o.properties)if(o.properties.hasOwnProperty(n)){var a=o.properties[n],l=a.map?a.map:"p-"+n,u=0;if(a.relAlt&&e.domUtils.hasAttribute(t,"rel")){for(s=a.relAlt.length;s--;)e.domUtils.hasAttributeValue(t,"rel",a.relAlt[s])&&u++;u===a.relAlt.length&&(i=l)}}return i},e.Parser.prototype.hasRel=function(t){return this.countRels(t)>0},e.Parser.prototype.countRels=function(t){return t?e.domUtils.getNodesByAttribute(t,"rel").length:0}),e.utils={isString:function(t){return"string"==typeof t},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isArray:function(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},startWith:function(t,e){return 0===t.indexOf(e)},isLowerCase:function(t){return t===t.toLowerCase()},trim:function(t){return t&&this.isString(t)?t.trim()?t.trim():t.replace(/^\s+|\s+$/g,""):""},replaceCharAt:function(t,e,r){return t&&t.length>e?t.substr(0,e)+r+t.substr(e+r.length):t},trimWhitespace:function(t){if(t&&t.length){for(var e=t.length,r=0;e--&&this.isOnlyWhiteSpace(t[e]);)t=this.replaceCharAt(t,e," ");for(e=t.length;r<e&&this.isOnlyWhiteSpace(t[r]);)t=this.replaceCharAt(t,e," "),r++}return this.trim(t)},isOnlyWhiteSpace:function(t){return!/[^\t\n\r ]/.test(t)},collapseWhiteSpace:function(t){return t.replace(/[\t\n\r ]+/g," ")},hasProperties:function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1},sortObjects:function(t,e){return e=e?-1:1,function(r,i){return r=r[t],i=i[t],r<i?-1*e:r>i?1*e:0}}},e.domUtils={document:null,rootNode:null,getDOMParser:function(){if(void 0!==typeof DOMParser)return new DOMParser;try{return Components.classes["@mozilla.org/xmlextras/domparser;1"].createInstance(Components.interfaces.nsIDOMParser)}catch(t){return}},getDOMContext:function(t){if(t.node&&(this.rootNode=t.node),t.html){var r=this.getDOMParser();this.rootNode=r.parseFromString(t.html,"text/html")}return null!==this.rootNode&&(9===this.rootNode.nodeType?(this.document=this.rootNode,this.rootNode=e.domUtils.querySelector(this.rootNode,"html")):this.document=e.domUtils.ownerDocument(this.rootNode)),!this.rootNode&&document&&(this.rootNode=e.domUtils.querySelector(document,"html"),this.document=document),this.rootNode&&this.document?{document:this.document,rootNode:this.rootNode}:{document:null,rootNode:null}},getTopMostNode:function(t){return t},ownerDocument:function(t){return t.ownerDocument},textContent:function(t){return t.textContent?t.textContent:t.innerText?t.innerText:""},innerHTML:function(t){return t.innerHTML},hasAttribute:function(t,e){return!!t.hasAttribute&&t.hasAttribute(e)},hasAttributeValue:function(t,e,r){return this.getAttributeList(t,e).indexOf(r)>-1},getAttribute:function(t,e){return t.getAttribute(e)},setAttribute:function(t,e,r){t.setAttribute(e,r)},removeAttribute:function(t,e){t.removeAttribute(e)},getElementById:function(t,e){return t.querySelector("#"+e)},querySelector:function(t,e){return t.querySelector(e)},getAttributeList:function(t,e){var r,i=[];return(r=t.getAttribute(e))&&""!==r&&(r.indexOf(" ")>-1?i=r.split(" "):i.push(r)),i},getNodesByAttribute:function(t,e){var r="["+e+"]";return t.querySelectorAll(r)},getNodesByAttributeValue:function(t,e,r){var i,o=[],s=0,n=[];if(o=this.getNodesByAttribute(t,e))for(i=o.length;s<i;)this.hasAttributeValue(o[s],e,r)&&n.push(o[s]),s++;return n},getAttrValFromTagList:function(t,e,r){for(var i=e.length;i--;)if(t.tagName.toLowerCase()===e[i]){var o=this.getAttribute(t,r);if(o&&""!==o)return o}return null},getSingleDescendant:function(t){return this.getDescendant(t,null,!1)},getSingleDescendantOfType:function(t,e){return this.getDescendant(t,e,!0)},getDescendant:function(t,e,r){for(var i,o=t.children.length,s=0,n=0,a=null;o--;)1===(i=t.children[o]).nodeType&&(e?this.hasTagName(i,e)&&(a=i,n++):(a=i,s++));return!0===r?1===n?a:null:1===s?a:null},hasTagName:function(t,e){for(var r=e.length;r--;)if(t.tagName.toLowerCase()===e[r])return!0;return!1},appendChild:function(t,e){return t.appendChild(e)},removeChild:function(t){return t.parentNode?t.parentNode.removeChild(t):null},clone:function(t){var e=t.cloneNode(!0);return this.hasAttribute(t,"id")&&this.removeAttribute(t,"id"),e},removeDescendantsByTagName:function(t,e){for(var r=0;r<e.length;r++)if(t.getElementsByTagName)for(var i=t.getElementsByTagName(e[r]);i[0];)i[0].parentNode.removeChild(i[0]);return t},getElementText:function(t){return t&&t.data?t.data:""},getOrderedAttributes:function(t){for(var r=t.outerHTML,i=[],o=0;o<t.attributes.length;o++){var s=t.attributes[o];s.indexNum=r.indexOf(s.name),i.push(s)}return i.sort(e.utils.sortObjects("indexNum"))},decodeEntities:function(t,e){return t.createTextNode(e).nodeValue},cloneDocument:function(t){var e,r=null;return this.canCloneDocument(t)&&(e=(r=t.implementation.createHTMLDocument("")).importNode(t.documentElement,!0),r.replaceChild(e,r.querySelector("html"))),e&&e.nodeType&&1===e.nodeType?r:t},canCloneDocument:function(t){return t&&t.importNode&&t.implementation&&t.implementation.createHTMLDocument},getChildIndex:function(t){for(var e,r=t.parentNode,i=-1;r&&(e=r.childNodes[++i]);)if(e===t)return i;return-1},getNodePath:function(t){var e=t.parentNode,r=[],i=this.getChildIndex(t);return e&&(r=this.getNodePath(e))&&i>-1&&r.push(i),r},getFirstAncestorAttribute:function(t,e){if(!t)return null;if(this.hasAttribute(t,e))return this.getAttribute(t,e);var r=t.parentNode;return r?this.getFirstAncestorAttribute(r,e):null},getNodeByPath:function(t,e){for(var r,i=t.documentElement,o=0;(r=e[++o])>-1;)i=i.childNodes[r];return i},getChildren:function(t){return t.children},createNode:function(t){return this.document.createElement(t)},createNodeWithText:function(t,e){var r=this.document.createElement(t);return r.innerHTML=e,r}},e.url={init:function(){this._domParser=e.domUtils.getDOMParser(),this._html='<base id="base" href=""></base><a id="link" href=""></a>',this._nodes=this._domParser.parseFromString(this._html,"text/html"),this._baseNode=e.domUtils.getElementById(this._nodes,"base"),this._linkNode=e.domUtils.getElementById(this._nodes,"link")},resolve:function(t,r){if(!e.utils.isString(t)||!e.utils.isString(r)||-1!==t.indexOf("://"))return e.utils.isString(t)?t:"";try{var i=new URL(t,r).toString();return"[object URL]"===i&&(i=URI.resolve(r,t)),i}catch(e){return void 0===this._domParser&&this.init(),this._baseNode.href=r,this._linkNode.href=t,this._linkNode.href}}},e.ISODate=function(t,e){this.clear(),this.format=e||"auto",this.setFormatSep(),arguments[0]&&this.parse(t,this.format)},e.ISODate.prototype={clear:function(){this.clearDate(),this.clearTime(),this.clearTimeZone(),this.setAutoProfileState()},clearDate:function(){this.dY=-1,this.dM=-1,this.dD=-1,this.dDDD=-1},clearTime:function(){this.tH=-1,this.tM=-1,this.tS=-1,this.tD=-1},clearTimeZone:function(){this.tzH=-1,this.tzM=-1,this.tzPN="+",this.z=!1},setAutoProfileState:function(){this.autoProfile={sep:"T",dsep:"-",tsep:":",tzsep:":",tzZulu:"Z"}},parse:function(t,e){this.clear(),this.setFormat(e);var r=[],i=[],o=0,s="",n="",a="";return t.indexOf("t")>-1&&(this.autoProfile.sep="t"),t.indexOf("z")>-1&&(this.autoProfile.tzZulu="z"),t.indexOf("Z")>-1&&(this.autoProfile.tzZulu="Z"),-1===t.toUpperCase().indexOf("T")&&(this.autoProfile.sep=" "),(t=t.toUpperCase().replace(" ","T")).indexOf("T")>-1?(s=(r=t.split("T"))[0],(n=r[1]).indexOf("Z")>-1&&(this.z=!0),(n.indexOf("+")>-1||n.indexOf("-")>-1)&&(n=(i=n.split("Z"))[0],a=i[1],(n.indexOf("+")>-1||n.indexOf("-")>-1)&&(o=0,o=n.indexOf("+")>-1?n.indexOf("+"):n.indexOf("-"),a=n.substring(o,n.length),n=n.substring(0,o)))):s=t,""!==s&&(this.parseDate(s),""!==n&&(this.parseTime(n),""!==a&&this.parseTimeZone(a))),this.toString(this.format)},parseDate:function(t,e){this.setFormat(e),this.clearDate();var r=[];return-1===t.indexOf("-")&&(this.autoProfile.tsep=""),(r=t.match(/(\d\d\d\d)-(\d\d\d)/))&&(r[1]&&(this.dY=r[1]),r[2]&&(this.dDDD=r[2])),-1===this.dDDD&&((r=t.match(/(\d\d\d\d)?-?(\d\d)?-?(\d\d)?/))[1]&&(this.dY=r[1]),r[2]&&(this.dM=r[2]),r[3]&&(this.dD=r[3])),this.toString(this.format)},parseTime:function(t,e){this.setFormat(e),this.clearTime();var r=[];return-1===t.indexOf(":")&&(this.autoProfile.tsep=""),(r=t.match(/(\d\d)?:?(\d\d)?:?(\d\d)?.?([0-9]+)?/))[1]&&(this.tH=r[1]),r[2]&&(this.tM=r[2]),r[3]&&(this.tS=r[3]),r[4]&&(this.tD=r[4]),this.toTimeString(this.format)},parseTimeZone:function(t,e){this.setFormat(e),this.clearTimeZone();var r=[];return"z"===t.toLowerCase()?(this.z=!0,this.autoProfile.tzZulu="z"===t?"z":"Z"):(-1===t.indexOf(":")&&(this.autoProfile.tzsep=""),(r=t.match(/([\-\+]{1})?(\d\d)?:?(\d\d)?/))[1]&&(this.tzPN=r[1]),r[2]&&(this.tzH=r[2]),r[3]&&(this.tzM=r[3])),this.tzZulu="z",this.toTimeString(this.format)},toString:function(t){this.setFormat(t);var e="";return this.dY>-1?(e=this.dY,this.dM>0&&this.dM<13&&(e+=this.dsep+this.dM,this.dD>0&&this.dD<32&&(e+=this.dsep+this.dD,this.tH>-1&&this.tH<25&&(e+=this.sep+this.toTimeString(this.format)))),this.dDDD>-1&&(e+=this.dsep+this.dDDD)):this.tH>-1&&(e+=this.toTimeString(this.format)),e},toTimeString:function(t){this.setFormat(t);var e="";return this.tH&&this.tH>-1&&this.tH<25&&(e+=this.tH,this.tM>-1&&this.tM<61&&(e+=this.tsep+this.tM,this.tS>-1&&this.tS<61&&(e+=this.tsep+this.tS,this.tD>-1&&(e+="."+this.tD))),this.z?e+=this.tzZulu:this.tzH&&this.tzH>-1&&this.tzH<25&&(e+=this.tzPN+this.tzH,this.tzM>-1&&this.tzM<61&&(e+=this.tzsep+this.tzM))),e},setFormat:function(t){t&&(this.format=t),this.setFormatSep()},setFormatSep:function(){switch(this.format.toLowerCase()){case"microformat2":this.sep=" ",this.dsep="-",this.tsep=":",this.tzsep="",this.tzZulu="Z";break;case"rfc3339":this.sep="T",this.dsep="",this.tsep="",this.tzsep="",this.tzZulu="Z";break;case"w3c":this.sep="T",this.dsep="-",this.tsep=":",this.tzsep=":",this.tzZulu="Z";break;case"html5":this.sep=" ",this.dsep="-",this.tsep=":",this.tzsep=":",this.tzZulu="Z";break;default:this.sep=this.autoProfile.sep,this.dsep=this.autoProfile.dsep,this.tsep=this.autoProfile.tsep,this.tzsep=this.autoProfile.tzsep,this.tzZulu=this.autoProfile.tzZulu}},hasFullDate:function(){return-1!==this.dY&&-1!==this.dM&&-1!==this.dD},hasDate:function(){return-1!==this.dY},hasTime:function(){return-1!==this.tH},hasTimeZone:function(){return-1!==this.tzH}},e.ISODate.prototype.constructor=e.ISODate,e.dates={hasAM:function(t){return(t=t.toLowerCase()).indexOf("am")>-1||t.indexOf("a.m.")>-1},hasPM:function(t){return(t=t.toLowerCase()).indexOf("pm")>-1||t.indexOf("p.m.")>-1},removeAMPM:function(t){return t.replace("pm","").replace("p.m.","").replace("am","").replace("a.m.","")},isDuration:function(t){return!(!e.utils.isString(t)||(t=t.toLowerCase(),!e.utils.startWith(t,"p")))},isTime:function(t){if(e.utils.isString(t)){if(t=t.toLowerCase(),(t=e.utils.trim(t)).match(":")&&(e.utils.startWith(t,"z")||e.utils.startWith(t,"-")||e.utils.startWith(t,"+")))return!0;if(t.match(/^[0-9]/)&&(this.hasAM(t)||this.hasPM(t)))return!0;if(t.match(":")&&!t.match(/t|\s/))return!0;if(e.utils.isNumber(t)&&(2===t.length||4===t.length||6===t.length))return!0}return!1},parseAmPmTime:function(t){var r=t,i=[];return e.utils.isString(r)&&((t=t.replace(/[ ]+/g,"")).match(":")||this.hasAM(t)||this.hasPM(t))&&(t.match(":")?i=t.split(":"):(i[0]=t,i[0]=this.removeAMPM(i[0])),this.hasPM(t)&&i[0]<12&&(i[0]=parseInt(i[0],10)+12),i[0]&&1===i[0].length&&(i[0]="0"+i[0]),i[0]&&(t=i.join(":"))),this.removeAMPM(t)},dateTimeUnion:function(t,r,i){var o=new e.ISODate(t,i),s=new e.ISODate;return s.parseTime(this.parseAmPmTime(r),i),o.hasFullDate()&&s.hasTime()?(o.tH=s.tH,o.tM=s.tM,o.tS=s.tS,o.tD=s.tD,o):o.hasFullDate()?o:new e.ISODate},concatFragments:function(t,r){var i=new e.ISODate,o=0,s="";if(t[0].toUpperCase().match("T"))return new e.ISODate(t[0],r);for(o=0;o<t.length;o++){if("-"===(s=t[o]).charAt(4)&&!1===i.hasFullDate()&&i.parseDate(s),(s.indexOf(":")>-1||e.utils.isNumber(this.parseAmPmTime(s)))&&!1===i.hasTime()){var n=this.splitTimeAndZone(s);s=n[0],s=this.parseAmPmTime(s),i.parseTime(s),n.length>1&&i.parseTimeZone(n[1],r)}"-"!==s.charAt(0)&&"+"!==s.charAt(0)&&"Z"!==s.toUpperCase()||!1===i.hasTimeZone()&&i.parseTimeZone(s)}return-1===i.tM&&(i.tM="00"),i},splitTimeAndZone:function(t){for(var e=[t],r=["-","+","z","Z"],i=r.length;i--;)if(t.indexOf(r[i])>-1){e[0]=t.slice(0,t.indexOf(r[i])),e.push(t.slice(t.indexOf(r[i])));break}return e}},e.text={textFormat:"whitespacetrimmed",blockLevelTags:["h1","h2","h3","h4","h5","h6","p","hr","pre","table","address","article","aside","blockquote","caption","col","colgroup","dd","div","dt","dir","fieldset","figcaption","figure","footer","form","header","hgroup","hr","li","map","menu","nav","optgroup","option","section","tbody","testarea","tfoot","th","thead","tr","td","ul","ol","dl","details"],excludeTags:["noframe","noscript","template","script","style","frames","frameset"],parse:function(t,r,i){var o;if(this.textFormat=i||this.textFormat,"normalised"===this.textFormat)return void 0!==(o=this.walkTreeForText(r))?this.normalise(t,o):"";var s=e.domUtils.clone(r),n=e.domUtils.removeDescendantsByTagName(s,this.excludeTags);return this.formatText(t,e.domUtils.textContent(n),this.textFormat)},parseText:function(t,r,i){var o=e.domUtils.createNodeWithText("div",r);return this.parse(t,o,i)},formatText:function(t,r,i){if(this.textFormat=i||this.textFormat,r){var o=r;return"whitespacetrimmed"===this.textFormat&&(o=e.utils.trimWhitespace(o)),o}return""},normalise:function(t,r){return r=r.replace(/&nbsp;/g," "),r=e.utils.collapseWhiteSpace(r),r=e.domUtils.decodeEntities(t,r),r=r.replace("–","-"),e.utils.trim(r)},walkTreeForText:function(t){var r="",i=0;if(t.tagName&&this.excludeTags.indexOf(t.tagName.toLowerCase())>-1)return r;if(t.nodeType&&3===t.nodeType&&(r+=e.domUtils.getElementText(t)),t.childNodes&&t.childNodes.length>0)for(i=0;i<t.childNodes.length;i++){var o=this.walkTreeForText(t.childNodes[i]);void 0!==o&&(r+=o)}return t.tagName&&-1!==this.blockLevelTags.indexOf(t.tagName.toLowerCase())&&(r+=" "),""===r?void 0:r}},e.html={selfClosingElt:["area","base","br","col","hr","img","input","link","meta","param","command","keygen","source"],parse:function(t){var e="",r=0;if(t.childNodes&&t.childNodes.length>0)for(r=0;r<t.childNodes.length;r++){var i=this.walkTreeForHtml(t.childNodes[r]);void 0!==i&&(e+=i)}return e},walkTreeForHtml:function(t){var r="",i=0;if(t.nodeType&&3===t.nodeType){var o=e.domUtils.createNode("div");e.domUtils.appendChild(o,e.domUtils.clone(t)),r+=e.domUtils.innerHTML(o)}if(t.nodeType&&1===t.nodeType&&!1===e.domUtils.hasAttribute(t,"data-include")){r+="<"+t.tagName.toLowerCase();var s=e.domUtils.getOrderedAttributes(t);for(i=0;i<s.length;i++)r+=" "+s[i].name+'="'+s[i].value+'"';if(-1===this.selfClosingElt.indexOf(t.tagName.toLowerCase())&&(r+=">"),t.childNodes&&t.childNodes.length>0)for(i=0;i<t.childNodes.length;i++){var n=this.walkTreeForHtml(t.childNodes[i]);void 0!==n&&(r+=n)}this.selfClosingElt.indexOf(t.tagName.toLowerCase())>-1?r+=" />":r+="</"+t.tagName.toLowerCase()+">"}return""===r?void 0:r}},e.maps["h-adr"]={root:"adr",name:"h-adr",properties:{"post-office-box":{},"street-address":{},"extended-address":{},locality:{},region:{},"postal-code":{},"country-name":{}}},e.maps["h-card"]={root:"vcard",name:"h-card",properties:{fn:{map:"p-name"},adr:{map:"p-adr",uf:["h-adr"]},agent:{uf:["h-card"]},bday:{map:"dt-bday"},class:{},category:{map:"p-category",relAlt:["tag"]},email:{map:"u-email"},geo:{map:"p-geo",uf:["h-geo"]},key:{map:"u-key"},label:{},logo:{map:"u-logo"},mailer:{},"honorific-prefix":{},"given-name":{},"additional-name":{},"family-name":{},"honorific-suffix":{},nickname:{},note:{},org:{},"p-organization-name":{},"p-organization-unit":{},photo:{map:"u-photo"},rev:{map:"dt-rev"},role:{},sequence:{},"sort-string":{},sound:{map:"u-sound"},title:{map:"p-job-title"},tel:{},tz:{},uid:{map:"u-uid"},url:{map:"u-url"}}},e.maps["h-entry"]={root:"hentry",name:"h-entry",properties:{"entry-title":{map:"p-name"},"entry-summary":{map:"p-summary"},"entry-content":{map:"e-content"},published:{map:"dt-published"},updated:{map:"dt-updated"},author:{uf:["h-card"]},category:{map:"p-category",relAlt:["tag"]},geo:{map:"p-geo",uf:["h-geo"]},latitude:{},longitude:{},url:{map:"u-url",relAlt:["bookmark"]}}},e.maps["h-event"]={root:"vevent",name:"h-event",properties:{summary:{map:"p-name"},dtstart:{map:"dt-start"},dtend:{map:"dt-end"},description:{},url:{map:"u-url"},category:{map:"p-category",relAlt:["tag"]},location:{uf:["h-card"]},geo:{uf:["h-geo"]},latitude:{},longitude:{},duration:{map:"dt-duration"},contact:{uf:["h-card"]},organizer:{uf:["h-card"]},attendee:{uf:["h-card"]},uid:{map:"u-uid"},attach:{map:"u-attach"},status:{},rdate:{},rrule:{}}},e.maps["h-feed"]={root:"hfeed",name:"h-feed",properties:{category:{map:"p-category",relAlt:["tag"]},summary:{map:"p-summary"},author:{uf:["h-card"]},url:{map:"u-url"},photo:{map:"u-photo"}}},e.maps["h-geo"]={root:"geo",name:"h-geo",properties:{latitude:{},longitude:{}}},e.maps["h-item"]={root:"item",name:"h-item",subTree:!1,properties:{fn:{map:"p-name"},url:{map:"u-url"},photo:{map:"u-photo"}}},e.maps["h-listing"]={root:"hlisting",name:"h-listing",properties:{version:{},lister:{uf:["h-card"]},dtlisted:{map:"dt-listed"},dtexpired:{map:"dt-expired"},location:{},price:{},item:{uf:["h-card","a-adr","h-geo"]},summary:{map:"p-name"},description:{map:"e-description"},listing:{}}},e.maps["h-news"]={root:"hnews",name:"h-news",properties:{entry:{uf:["h-entry"]},geo:{uf:["h-geo"]},latitude:{},longitude:{},"source-org":{uf:["h-card"]},dateline:{uf:["h-card"]},"item-license":{map:"u-item-license"},principles:{map:"u-principles",relAlt:["principles"]}}},e.maps["h-org"]={root:"h-x-org",name:"h-org",childStructure:!0,properties:{"organization-name":{},"organization-unit":{}}},e.maps["h-product"]={root:"hproduct",name:"h-product",properties:{brand:{uf:["h-card"]},category:{map:"p-category",relAlt:["tag"]},price:{},description:{map:"e-description"},fn:{map:"p-name"},photo:{map:"u-photo"},url:{map:"u-url"},review:{uf:["h-review","h-review-aggregate"]},listing:{uf:["h-listing"]},identifier:{map:"u-identifier"}}},e.maps["h-recipe"]={root:"hrecipe",name:"h-recipe",properties:{fn:{map:"p-name"},ingredient:{map:"e-ingredient"},yield:{},instructions:{map:"e-instructions"},duration:{map:"dt-duration"},photo:{map:"u-photo"},summary:{},author:{uf:["h-card"]},published:{map:"dt-published"},nutrition:{},category:{map:"p-category",relAlt:["tag"]}}},e.maps["h-resume"]={root:"hresume",name:"h-resume",properties:{summary:{},contact:{uf:["h-card"]},education:{uf:["h-card","h-event"]},experience:{uf:["h-card","h-event"]},skill:{},affiliation:{uf:["h-card"]}}},e.maps["h-review-aggregate"]={root:"hreview-aggregate",name:"h-review-aggregate",properties:{summary:{map:"p-name"},item:{map:"p-item",uf:["h-item","h-geo","h-adr","h-card","h-event","h-product"]},rating:{},average:{},best:{},worst:{},count:{},votes:{},category:{map:"p-category",relAlt:["tag"]},url:{map:"u-url",relAlt:["self","bookmark"]}}},e.maps["h-review"]={root:"hreview",name:"h-review",properties:{summary:{map:"p-name"},description:{map:"e-description"},item:{map:"p-item",uf:["h-item","h-geo","h-adr","h-card","h-event","h-product"]},reviewer:{uf:["h-card"]},dtreviewer:{map:"dt-reviewer"},rating:{},best:{},worst:{},category:{map:"p-category",relAlt:["tag"]},url:{map:"u-url",relAlt:["self","bookmark"]}}},e.rels={friend:["yes","external"],acquaintance:["yes","external"],contact:["yes","external"],met:["yes","external"],"co-worker":["yes","external"],colleague:["yes","external"],"co-resident":["yes","external"],neighbor:["yes","external"],child:["yes","external"],parent:["yes","external"],sibling:["yes","external"],spouse:["yes","external"],kin:["yes","external"],muse:["yes","external"],crush:["yes","external"],date:["yes","external"],sweetheart:["yes","external"],me:["yes","external"],license:["yes","yes"],nofollow:["no","external"],tag:["no","yes"],self:["no","external"],bookmark:["no","external"],author:["no","external"],home:["no","external"],directory:["no","external"],enclosure:["no","external"],pronunciation:["no","external"],payment:["no","external"],principles:["no","external"]};var r={version:e.version,livingStandard:e.livingStandard};return r.get=function(r){var i=new e.Parser;return t(i,r),i.get(r)},r.getParent=function(r,i){var o=new e.Parser;return t(o,i),o.getParent(r,i)},r.count=function(r){var i=new e.Parser;return t(i,r),i.count(r)},r.isMicroformat=function(r,i){var o=new e.Parser;return t(o,i),o.isMicroformat(r,i)},r.hasMicroformats=function(r,i){var o=new e.Parser;return t(o,i),o.hasMicroformats(r,i)},r}),function(t){var e,r,i,o,s;if(t){try{i=!!(new t).parseFromString("","text/html")}catch(t){i=!1}if(!i){try{document.implementation.createHTMLDocument("").documentElement.innerHTML="<title></title><div></div>",s=!0}catch(t){s=!1}if(!s)try{o=!!(new t).parseFromString("","text/xml")}catch(t){i=!1}t.prototype&&(s||o)&&(e=t.prototype,r=e.parseFromString,e.parseFromString=function(e,i){if(/^\s*text\/html\s*(?:;|$)/i.test(i)){var n,a,l;return s?((a=(n=document.implementation.createHTMLDocument("")).documentElement).innerHTML=e,l=a.firstElementChild):o&&(/^<html.*html>$/i.test(e)||(e="<html>"+e+"</html>"),l=(a=(n=(new t).parseFromString(e,"text/xml")).documentElement).firstElementChild),1===a.childElementCount&&"html"===l.localName.toLowerCase()&&n.replaceChild(l,a),n}return r.apply(this,arguments)})}}}(DOMParser)}});